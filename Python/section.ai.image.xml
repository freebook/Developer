<?xml version="1.0" encoding="UTF-8"?>
<section id="pillow">
	<title>PIL（Python Imaging Library）Python 图像处理库</title>
	<section>
		<title>安装</title>
		<screen>
		<![CDATA[
pip install pillow		
		]]>
		</screen>
	</section>
	<section>
		<title>比较两张图片</title>
		<programlisting>
	<![CDATA[
from PIL import Image
from PIL import ImageChops 
def compare_images(one, two, diff):
  image_one = Image.open(one)
  image_two = Image.open(two)
  try: 
    diff = ImageChops.difference(image_one, image_two)
    if diff.getbbox() is None:
      print("【+】We are the same!")
    else:
      diff.save(diff)
  except ValueError as e:
    text = ("Pastes another image into this image."
        "The box argument is either a 2-tuple giving the upper left corner, a 4-tuple defining the left, upper, "
        "right, and lower pixel coordinate, or None (same as (0, 0)). If a 4-tuple is given, the size of the pasted "
        "image must match the size of the region.")
    print("【{0}】{1}".format(e,text))
if __name__ == '__main__':
  compare_images('1.png', '2.png', '我们不一样.png')	
	]]>
		</programlisting>
	</section>
	<section>
		<title>Image</title>
		<programlisting>
	<![CDATA[
import PIL.Image as img
import os
 
# 图片地址
imgfile = 'Neo.jpg'  

# 用PIL打开一个图片
im = img.open(imgfile)  

# 剪切图片的位置，格式为:xmin ymin xmax ymax
box = (50, 50, 200, 50)

# 对im进行裁剪
new = im.crop(box)  

# 进行向左旋转20度 向右为负数
new = ng.rotate(20)  

#保存选取
new.save('copy.jpg')

# 粘贴选取
im.paste(ng, (150, 150)) 
#保存
im.save('new.jpg')
	]]>
		</programlisting>
	</section>
	<section>
		<title>Numpy 转换为 PIL Image</title>
		<programlisting>
		<![CDATA[
from PIL import Image
PIL_img = Image.fromarray(array)
		]]>
		</programlisting>
	</section>
</section>
