<?xml version="1.0" encoding="UTF-8"?>
<section id="matplotlib">
	<title>数据可视化</title>
	<para> 数据可视化是借助于图形化手段，对数字罗列的数字进行分析，使分析结果可视化，清晰有效地展现数据背后意义、直观地传达出信息内容、从而实现视觉对话，这是表格或电子表格无法做到的。</para>
	<para>常用的图表包括：线形图、柱状图、条形图、面积图、饼图、点图、仪表盘、走势图外，还有和弦图、圈饼图、雷达图、金字塔、漏斗图、K线图、关系图、网络图、玫瑰图、帕累托图、数学公式图、预测曲线图、正态分布图、迷你图、行政地图、GIS地图等各种展现形式。</para>
	<orderedlist>
		<title>数据可视化需要四个步骤：</title>
		<listitem>数据准备：从数据库,Excle,CSV文件，HTML表格等等</listitem>
		<listitem>数据加载：pd.read_sql/pd.read_csv/pd.read_excel 将数据加载到 DataFrame中</listitem>
		<listitem>数据清洗：删除，排序，筛选，分组聚合，运算</listitem>
		<listitem>数据可视化：使用 matplotlib 生成图表</listitem>
	</orderedlist>
	<para></para>
	<section>
		<title>折线图</title>
		<programlisting>
		<![CDATA[
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

df = pd.DataFrame(np.random.randn(15, 4), index=pd.date_range(
    '2021/01/01', periods=15), columns=list('ABCD'))

df.plot()
plt.show()
		]]>
		</programlisting>
		<graphic format="png" fileref="../images/pandas/matplotlib/line_1.png" width="100%" srccredit="neo" />
	</section>
	<section>
		<title>条形图</title>
		<programlisting>
		<![CDATA[
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

df = pd.DataFrame(np.random.rand(10, 4), columns=['A', 'B', 'C', 'D'])
df.plot.bar()
plt.show()
		
		]]>
		</programlisting>
		<graphic format="png" fileref="../images/pandas/matplotlib/bar_1.png" width="100%" srccredit="neo" />
		<programlisting>
		<![CDATA[
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
df = pd.DataFrame(np.random.rand(10, 4), columns=['A', 'B', 'C', 'D'])
df.plot.bar(stacked=True)
plt.show()
		
		]]>
		</programlisting>
		<graphic format="png" fileref="../images/pandas/matplotlib/bar_2.png" width="100%" srccredit="neo" />
		<programlisting>
		<![CDATA[
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
df = pd.DataFrame(np.random.rand(10, 4), columns=['A', 'B', 'C', 'D'])

df.plot.barh(stacked=True)
plt.show()		
		]]>
		</programlisting>
		<graphic format="png" fileref="../images/pandas/matplotlib/barh.png" width="100%" srccredit="neo" />
	</section>
	<section>
		<title>直方图</title>
		<programlisting>
		<![CDATA[
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

df = pd.DataFrame({'A': np.random.randn(1000)-1,
                   'B': np.random.randn(1000),
                   'C': np.random.randn(1000)+1},
                  columns=['A', 'B', 'C'])

df.plot.hist(bins=20)
plt.show()		
		]]>
		</programlisting>
		<graphic format="png" fileref="../images/pandas/matplotlib/hist_1.png" width="100%" srccredit="neo" />
		<programlisting>
		<![CDATA[
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

data = np.random.randn(1000)

df = pd.DataFrame({'A': data, 'B': data, 'C': data}, columns=['A', 'B', 'C'])

df.hist(bins=20)
plt.show()	
		]]>
		</programlisting>
		<graphic format="png" fileref="../images/pandas/matplotlib/hist_2.png" width="100%" srccredit="neo" />
	</section>
	<section>
		<title>区域图</title>
		<programlisting>
		<![CDATA[
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
df = pd.DataFrame(np.random.rand(10, 4), columns=['A', 'B', 'C', 'D'])
df.plot.area()
plt.show()
		
		]]>
		</programlisting>
		<graphic format="png" fileref="../images/pandas/matplotlib/area_1.png" width="100%" srccredit="neo" />
	</section>
	<section>
		<title>饼形图</title>
		<programlisting>
		<![CDATA[
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
df = pd.DataFrame(np.random.rand(5),
                  index=['A', 'B', 'C', 'D', 'E'], columns=['Pie'])
df.plot.pie(subplots=True)
plt.show()
		
		]]>
		</programlisting>
		<graphic format="png" fileref="../images/pandas/matplotlib/pie_1.png" width="100%" srccredit="neo" />
	</section>
	<section>
		<title>XY散点图</title>
		<programlisting>
		<![CDATA[
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
df = pd.DataFrame(np.random.rand(50, 4), columns=['A', 'B', 'C', 'D'])
df.plot.scatter(x='A', y='B')
plt.show()
		
		]]>
		</programlisting>
		<graphic format="png" fileref="../images/pandas/matplotlib/scatter_1.png" width="100%" srccredit="neo" />
	</section>
	<section>
		<title>箱形图</title>
		<programlisting>
		<![CDATA[
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
df = pd.DataFrame(np.random.rand(10, 5), columns=['A', 'B', 'C', 'D', 'E'])
df.plot.box()
plt.show()		
		]]>
		</programlisting>
		<graphic format="png" fileref="../images/pandas/matplotlib/box_1.png" width="100%" srccredit="neo" />
	</section>
</section>