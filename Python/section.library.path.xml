<?xml version="1.0" encoding="UTF-8"?>
<section>
	<title>文件和目录</title>
	<section id="io.file">
		<title>文件操作</title>
		<section>
			<title>读取文件</title>
			<programlisting role="python">
		<![CDATA[
f = open('/tmp/workfile', 'r+')
f.write('0123456789abcdef')
f.seek(5)     # Go to the 6th byte in the file
f.read(1)
f.seek(-3, 2) # Go to the 3rd byte before the end
f.read(1)
f.readline()
f.close()
		]]>
			</programlisting>
			<screen>
			<![CDATA[
for line in open("myfile.txt"):
    print line

with open("myfile.txt") as f:
    for line in f:
        print line
			]]>
			</screen>

		</section>
		<section>
			<title>读取二进制文件</title>
			<para></para>
			<programlisting>
			<![CDATA[
with open('beak', 'rb+') as f:
    content = f.read()
    f.seek(0)
    f.write(content.replace(b'\r', b''))
    f.truncate()
			]]>
			</programlisting>
		</section>
		<section>
			<title>获取文件名</title>
			<para>使用os.path.basename()获取文件名</para>
			<screen>
			<![CDATA[
import os

# 定义一个文件路径
file_path = "/home/user/documents/example.txt"

# 使用os.path.basename()获取文件名
file_name = os.path.basename(file_path)

print(file_name)  # 输出: example.txt			
			]]>
			</screen>
		</section>
		<section>
			<title>获取扩展名</title>
			<programlisting>
			<![CDATA[
import os

# 定义一个文件路径
file_path = "/home/user/documents/example.txt"

# 使用os.path.splitext()获取文件名和扩展名
file_name, file_extension = os.path.splitext(file_path)

print("文件名:", file_name)  # 输出: 文件名: /home/user/documents/example
print("扩展名:", file_extension)  # 输出: 扩展名: .txt	

file_extension = file_extension[1:]  # 去掉点号
print("去掉点号的扩展名:", file_extension)  # 输出: 去掉点号的扩展名: txt		
			]]>
			</programlisting>
			<programlisting>
			<![CDATA[
import os
ext = os.path.splitext("path/to/file.ext")[-1][1:]
print(ext)
			]]>
			</programlisting>
			<para></para>
			<programlisting>
			<![CDATA[
path = "path/to/file.ext"
suffix = path.split(".")[1]
print("suffix: {}".format(suffix))			
			]]>
			</programlisting>
			<programlisting>
			<![CDATA[
import re

filename = "example.txt"
extension = re.findall(r"\.[^.]*$", filename)[0]
print(extension)			
			]]>
			</programlisting>
			<programlisting>
			<![CDATA[
filename = "myfile.txt"

extension = filename.rsplit(".", 1)[1]

print(extension)  # 输出：".txt"			
			]]>
			</programlisting>
		</section>
	</section>
	<section>
		<title></title>
		<programlisting>
		<![CDATA[
crop_dir_name = "ultralytics_crop"
if not os.path.exists(crop_dir_name):
    os.mkdir(crop_dir_name)		
		]]>
		</programlisting>
	</section>
	<section>
		<title>文件列表</title>

		<programlisting language="python">
	<![CDATA[
import os

path = "/etc"
files = []
for name in os.listdir("/etc/"):
    if os.path.isfile(os.path.join(path, name)):
        files.append(name)

print(files)	
	]]>
		</programlisting>
		<para>随机抽取一个文件</para>
		<programlisting>
		<![CDATA[
import os
from random import choice

path = "/etc"
files = []
for name in os.listdir("/etc/"):
    if os.path.isfile(os.path.join(path, name)):
        files.append(name)

file = choice(files)
print(file)
		]]>
		</programlisting>
	</section>
</section>